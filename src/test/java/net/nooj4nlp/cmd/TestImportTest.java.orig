package net.nooj4nlp.cmd;

import static org.junit.Assert.assertEquals;
import static org.mockito.Mockito.mock;
import static org.mockito.Mockito.when;

import java.io.File;

<<<<<<< HEAD
import net.nooj4nlp.engine.Engine;
import net.nooj4nlp.engine.Language;
import net.nooj4nlp.engine.Ntext;
import net.nooj4nlp.engine.RefObject;
=======
import net.nooj4nlp.engine.Language;
import net.nooj4nlp.engine.Ntext;
>>>>>>> 093498620903f61063d3aa2e548c72d7599d2f9c

import org.junit.Before;
import org.junit.Test;
import org.mockito.Mockito;

public class TestImportTest extends NoojTest {
	private static final File DUMMY_FILE = new File("");
	private static final String DELIMITER = "\n";
	private static final Language ENGLISH = new Language("en");
	
	private TextLoader textLoaderMock;
	
	@Before
	public void setup() {
		textLoaderMock = mock(TextLoader.class);
		when(textLoaderMock.load(Mockito.<File>anyObject()))
				.thenReturn(TEXT);
	}
	
	@Test
	public void fromFileCreatesNtext() {
<<<<<<< HEAD
		Engine engine = new Engine(new RefObject<Language>(ENGLISH),
				"", "", "", false, null, false, null);
		TextImport textImport = new TextImport(ENGLISH, DELIMITER, textLoaderMock, engine);
=======
		TextImport textImport = new TextImport(ENGLISH, DELIMITER, textLoaderMock);
>>>>>>> 093498620903f61063d3aa2e548c72d7599d2f9c
		Ntext ntext = textImport.fromFile(DUMMY_FILE);
		
		assertEquals(ENGLISH.isoName, ntext.getLanguage().isoName);
		assertEquals(2, ntext.nbOfTextUnits);
	}

	private static final String TEXT = "This is the first sentence.\n"
			+ "This is the second sentence, placed on the second line. The third sentence is on the same line as the second.";
}
